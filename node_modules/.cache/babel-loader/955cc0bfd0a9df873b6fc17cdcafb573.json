{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/admin/mesto-react/src/components/App.js\",\n    _s = $RefreshSig$();\n\nimport Vector2 from \"../images/Vector2.svg\";\nimport Close from \"../images/Close-icon.svg\";\nimport Main from './main';\nimport Footer from './footer';\nimport Header from './header';\nimport PopupWithForm from './popupWithForm';\nimport ImagePopup from './popupImage';\nimport React from 'react';\nimport api from '../utils/api'; // import Card from './card'\n\nfunction App() {\n  _s();\n\n  const [userName, setName] = React.useState([]);\n  const [cards, setCards] = React.useState([]);\n  const [userDescription, setDescription] = React.useState([]);\n  const [userAvatar, setAvatar] = React.useState([]);\n  React.useEffect(() => {\n    api.getInitialCards().then(res => {\n      setCards(res.map(card => ({\n        id: card._id,\n        likes: card.likes,\n        url: card.link,\n        name: card.name\n      })));\n    });\n  }, []);\n  React.useEffect(() => {\n    api.getUserId().then(res => {\n      setName(res.name);\n      setDescription(res.about);\n      setAvatar(res.avatar);\n    });\n  });\n  const [isEditProfilePopupOpen, editOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, avatarOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, placeOpen] = React.useState(false);\n  const [card, selectedCard] = React.useState(null);\n\n  const handleCardClick = card => {\n    selectedCard(card);\n  };\n\n  function handleEditEditClick() {\n    editOpen(true);\n  }\n\n  function handleEditAvatarClick() {\n    avatarOpen(true);\n  }\n\n  function handleEditAddClick() {\n    placeOpen(true);\n  }\n\n  function closeAllPopups() {\n    placeOpen(false);\n    avatarOpen(false);\n    editOpen(false);\n    selectedCard(false);\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"page\",\n      children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(PopupWithForm, {\n        title: 'Добавить карточку',\n        name: 'add',\n        isOpen: isAddPlacePopupOpen ? 'popup_is-opened' : '',\n        onClose: closeAllPopups,\n        button: 'Добавить',\n        children: /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            required: true,\n            type: \"text\",\n            name: \"firstname\",\n            minLength: \"2\",\n            maxLength: \"40\",\n            id: \"name-profile\",\n            className: \"popup__name popup__name_type_title\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 178\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            id: \"name-profile-error\",\n            className: \"error\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(PopupWithForm, {\n        title: 'Обновить профиль',\n        name: 'avatar',\n        isOpen: isEditAvatarPopupOpen ? 'popup_is-opened' : '',\n        onClose: closeAllPopups,\n        button: \"Сохранить\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(PopupWithForm, {\n        title: 'Редактировать профиль',\n        name: 'edit',\n        isOpen: isEditProfilePopupOpen ? 'popup_is-opened' : '',\n        onClose: closeAllPopups,\n        button: \"Сохранить\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(PopupWithForm, {\n        title: 'Удалить карточку',\n        name: 'delete',\n        button: \"Да\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Main, {\n        onCardClick: handleCardClick,\n        userName: userName,\n        onEditProfile: handleEditEditClick,\n        onAddPlace: handleEditAddClick,\n        onEditAvatar: handleEditAvatarClick,\n        userAvatar: userAvatar,\n        userDescription: userDescription,\n        cards: cards\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(ImagePopup, {\n        card: card,\n        onClose: closeAllPopups\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 5\n    }, this)\n  }, void 0, false);\n}\n\n_s(App, \"K4+KTyunbazDoI3326mH9mgAVWM=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/Users/admin/mesto-react/src/components/App.js"],"names":["Main","Footer","Header","PopupWithForm","ImagePopup","React","api","App","userName","setName","useState","cards","setCards","userDescription","setDescription","userAvatar","setAvatar","useEffect","getInitialCards","then","res","map","card","id","_id","likes","url","link","name","getUserId","about","avatar","isEditProfilePopupOpen","editOpen","isEditAvatarPopupOpen","avatarOpen","isAddPlacePopupOpen","placeOpen","selectedCard","handleCardClick","handleEditEditClick","handleEditAvatarClick","handleEditAddClick","closeAllPopups"],"mappings":"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","sourcesContent":["\nimport Vector2 from '../images/Vector2.svg'\nimport Close from '../images/Close-icon.svg'\nimport Main from './main'\nimport Footer from './footer';\nimport Header from './header';\nimport PopupWithForm from './popupWithForm';\nimport ImagePopup from './popupImage';\nimport React from 'react'\nimport api from '../utils/api';\n// import Card from './card'\n\nfunction App() {\nconst [userName, setName] = React.useState([])\nconst [cards, setCards] = React.useState([])\nconst [userDescription, setDescription] = React.useState([])\nconst [userAvatar, setAvatar] = React.useState([])\n\nReact.useEffect(()=>{\n  api.getInitialCards()\n  .then((res)=>{\n    setCards(res.map((card)=>({\n      id: card._id,\n      likes: card.likes,\n      url: card.link,\n      name: card.name\n    })))\n  })\n}, [])\n\n\n    React.useEffect(()=>{\n        api.getUserId()\n        .then((res)=>{\n            setName(res.name)\n            setDescription(res.about)\n            setAvatar(res.avatar)\n        })\n    })\n  \n\n  const [isEditProfilePopupOpen, editOpen] = React.useState(false) ;\n  const [isEditAvatarPopupOpen, avatarOpen] = React.useState(false) ;\n  const [isAddPlacePopupOpen, placeOpen] = React.useState(false) ;\n  const [card, selectedCard] = React.useState(null) ;\n\n\n\n\nconst handleCardClick = card =>{selectedCard(card)}\n\n\n\nfunction handleEditEditClick () {\n\n  editOpen(true)\n}\nfunction handleEditAvatarClick(){\n  avatarOpen(true)\n}\nfunction handleEditAddClick () {\n  \nplaceOpen(true)\n}\nfunction closeAllPopups(){\n  placeOpen(false)\n  avatarOpen(false)\n  editOpen(false)\n  selectedCard(false)\n}\n  return (\n  <>\n    <div className=\"page\">\n    <Header />\n    <PopupWithForm   title = {'Добавить карточку'} name = {'add'} isOpen={isAddPlacePopupOpen ? 'popup_is-opened' : ''} onClose={closeAllPopups} button={'Добавить'} children={<><input required type=\"text\" name={\"firstname\"} minLength=\"2\" maxLength=\"40\" id=\"name-profile\" className=\"popup__name popup__name_type_title\" />\n                <span id=\"name-profile-error\" className=\"error\"></span></>}/>\n    <PopupWithForm   title = {'Обновить профиль'} name = {'avatar'} isOpen={isEditAvatarPopupOpen ? 'popup_is-opened' : ''} onClose={closeAllPopups} button={\"Сохранить\"}/>\n    <PopupWithForm  title = {'Редактировать профиль'} name = {'edit'} isOpen={isEditProfilePopupOpen ? 'popup_is-opened' : ''} onClose={closeAllPopups} button={\"Сохранить\"}/>\n    <PopupWithForm   title = {'Удалить карточку'} name = {'delete'} button={\"Да\"}/>\n    <Main  onCardClick={handleCardClick} userName={userName} onEditProfile ={handleEditEditClick} onAddPlace={handleEditAddClick} onEditAvatar={handleEditAvatarClick} userAvatar={userAvatar} userDescription={userDescription} cards={cards}  />\n    <ImagePopup card={card} onClose={closeAllPopups}/>\n    <Footer />\n    </div>\n    \n</>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}